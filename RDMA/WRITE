---2017-6-13
并发WRITE问题
环境配置：
      服务器申请了一块内存，创建2n个链接
      两个客户端分别创建了n个链接，链接到服务器
      客户端所有链接并发发起RDMA_WRITE向服务器端的那块内存写数据
现象：
      客户端链接数量少的时候，写入没问题，但是带宽低
      客户端链接数量多的时候，写入会出问题，先报错0x12,后面全是0x5，带宽极低
对比1：
      服务器仍然创建一块内存
      一个客户端和一个服务器，创建对等数量的链接
      链接数量少的时候，写入没问题，带宽低
      链接数量一起来，写入会出问题，报错0x12,超时，检查服务器的qp状态，没问题，说明应该是超时，带宽极低
      （对比测试，将发送的timeout时间设为无穷，则不会报超时错误，但是发送成功次数极低，说明应该是服务器端忙不过来导致的超时错误）
对比2：
      服务器创建n块内存，2n个链接
      一个客户端和2个服务器，对等链接
      链接数量少的时候，写入没问题，带宽范围正常，但是不稳定
      连接数量多的时候，写入会出问题，报错0x12,检查服务器的qp状态，均没有问题，初步判断应该是超时
      （对比测试，将发送的timeout时间设为无穷大，则不会报超时错误，但是发送成功次数极低，判定问题出在服务器端的处理能力上导致的超时错误）
对比3：服务器创建n块内存，n个链接
      一个服务器，一个客户端，对等链接
      将链接的timeout属性设置为无穷大
      连接数量多少都不会报0x12错误
      但是发送成功次数很低，带宽也几乎为零。
对比4：服务器创建n块内存，n个链接
      一个服务器，一个客户端，对等链接
      将链接的timeout属性设置为0x12
      连接数量为100时，会报0x12错误
      链接数量为40时，也会报0x12 0x5错误
      但是发送成功次数正常，带宽部分时间可以跑满。
      检查服务器端的链接状态，均为正常状态，没有出现有错误状态。
      （链接数量为5时，不会报错，但是带宽低
        链接数量为10时，不会报错，带宽可以跑满）
